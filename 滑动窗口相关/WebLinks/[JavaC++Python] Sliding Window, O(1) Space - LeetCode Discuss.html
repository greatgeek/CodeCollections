<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600986 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5527"/>

<div><span>
  <div style="--en-clipped-content:article">
<div><br/></div><div style="font-size: 16px; display:block; min-width: 100%; position: relative;"> <div style="background-color:white;box-sizing:border-box;font-family:sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);line-height:1.15;text-size-adjust:100%;"><div style="font-weight:400;box-sizing:border-box;font-variant:tabular-nums;line-height:1.5;background-color:rgb(255, 255, 255);font-feature-settings:&quot;tnum&quot;;color:rgba(0, 0, 0, 0.65);font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;;font-size:14px;overflow:hidden;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;min-width:896px;-webkit-box-orient:vertical;-webkit-box-direction:normal;overflow:hidden;-webkit-font-smoothing:antialiased;"><div style="box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-flex:1;"><div style="box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-flex:1;background-color:rgb(245, 245, 245);"><div style="box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-box-flex:1;"><div style="box-sizing:border-box;background:white;box-shadow:rgba(0, 0, 0, 0.1) 0px 1px 2px 0px;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;display:flex;"><div style="box-sizing:border-box;margin-right:20px;"><div style="box-sizing:border-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;"><div style="box-sizing:border-box;padding:2px 7px;border-radius:3px;font-size:12px;display:flex;-webkit-box-align:center;align-items:center;color:rgb(96, 125, 139);background:rgb(247, 249, 250);transition:color 0.3s ease 0s, background-color 0.3s ease 0s;cursor:pointer;" title="Upvote"><img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='1em' height='1em' class='icon__3Su4 js-evernote-checked' data-evernote-id='877'%3e%3cpath fill-rule='evenodd' d='M7 14l5-5 5 5z' class='js-evernote-checked' data-evernote-id='878'%3e%3c/path%3e%3c/svg%3e" style="box-sizing:border-box;vertical-align:middle;fill:currentcolor;width:26px;height:26px;overflow:hidden;"></img></div><div style="box-sizing:border-box;font-size:12px;font-weight:bold;line-height:40px;color:rgb(120, 144, 156);" title="Vote count"><span style="box-sizing:border-box;">102</span></div><div style="box-sizing:border-box;padding:2px 7px;border-radius:3px;font-size:12px;display:flex;-webkit-box-align:center;align-items:center;color:rgb(96, 125, 139);background:rgb(247, 249, 250);transition:color 0.3s ease 0s, background-color 0.3s ease 0s;cursor:pointer;" title="Downvote"><img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='1em' height='1em' class='icon__3Su4 js-evernote-checked' data-evernote-id='882'%3e%3cpath fill-rule='evenodd' d='M7 10l5 5 5-5z' class='js-evernote-checked' data-evernote-id='883'%3e%3c/path%3e%3c/svg%3e" style="box-sizing:border-box;vertical-align:middle;fill:currentcolor;width:26px;height:26px;overflow:hidden;"></img></div></div></div><div style="box-sizing:border-box;-webkit-box-flex:1;flex:1 1 0%;max-width:100%;min-width:0px;"><div style="box-sizing:border-box;display:flex;-webkit-box-align:center;align-items:center;"><div style="box-sizing:border-box;display:inline-flex;-webkit-box-align:center;align-items:center;line-height:1;font-size:12px;"><a href="https://leetcode.com/lee215" style="box-sizing:border-box;color:rgb(24, 144, 255);text-decoration:none;outline:none;cursor:pointer;transition:color 0.3s ease 0s;background-color:transparent;touch-action:manipulation;" target="_blank"><img src="[JavaC++Python] Sliding Window, O(1) Space - LeetCode Discuss_files/avatar_1551541889.png" type="image/png" data-filename="avatar_1551541889.png" height="30" style="box-sizing:border-box;vertical-align:middle;border-style:none;width:30px;height:30px;border-radius:100%;display:inline-block;background-color:rgb(245, 245, 245);" width="30"/></a><span style="box-sizing:border-box;color:rgb(66, 66, 66);margin-left:10px;"><a href="https://leetcode.com/lee215" style="box-sizing:border-box;text-decoration:none;outline:none;cursor:pointer;transition:color 0.3s ease 0s;background-color:transparent;touch-action:manipulation;color:rgb(158, 158, 158);" target="_blank">lee215</a></span><span style="box-sizing:border-box;color:rgb(144, 164, 174);margin-left:20px;display:flex;-webkit-box-align:center;align-items:center;"><img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='1em' height='1em' class='icon__3Su4 js-evernote-checked' data-evernote-id='889'%3e%3cpath fill-rule='evenodd' d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z' class='js-evernote-checked' data-evernote-id='890'%3e%3c/path%3e%3c/svg%3e" style="box-sizing:border-box;vertical-align:middle;fill:currentcolor;color:rgb(176, 190, 197);margin-right:4px;width:14px;height:14px;overflow:hidden;"></img>38433</span></div><div style="box-sizing:border-box;color:rgb(189, 189, 189);-webkit-box-flex:1;flex:1 1 0%;display:inline-flex;-webkit-box-align:center;align-items:center;margin-left:25px;"><p style="font-weight:400;box-sizing:border-box;margin:0px;font-size:12px;margin-right:10px;">Last Edit: February 25, 2020 12:59 PM</p><p style="font-weight:400;box-sizing:border-box;margin:0px;-webkit-box-flex:1;flex:1 1 0%;text-align:right;font-size:12px;">6.1K VIEWS</p></div></div><div style="box-sizing:border-box;margin-top:10px;-webkit-box-flex:1;flex:1 1 0%;overflow:hidden;"><div style="box-sizing:border-box;line-height:1.57;color:rgb(66, 66, 66);"><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><h1 style="margin:0.67em 0px;box-sizing:border-box;margin-top:0px;margin-bottom:0.5em;color:rgba(0, 0, 0, 0.85);font-weight:500;font-size:unset;"><strong style="box-sizing:border-box;font-weight:bolder;">Solution 1: atMost</strong></h1>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">Have you read this? <a href="https://leetcode.com/problems/subarrays-with-k-different-integers/discuss/234482/JavaC%2B%2BPython-Sliding-Window-atMost(K)-atMost(K-1)" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">992. Subarrays with K Different Integers</a><br style="box-sizing:border-box;"/>
Exactly <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">K</code> times = at most <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">K</code> times - at most <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">K - 1</code> times<br style="box-sizing:border-box;"/>
<br style="box-sizing:border-box;"/></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><h1 style="margin:0.67em 0px;box-sizing:border-box;margin-top:0px;margin-bottom:0.5em;color:rgba(0, 0, 0, 0.85);font-weight:500;font-size:unset;"><strong style="box-sizing:border-box;font-weight:bolder;">Complexity</strong></h1>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">Time <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">O(N)</code> for one pass<br style="box-sizing:border-box;"/>
Space <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">O(1)</code><br style="box-sizing:border-box;"/>
<br style="box-sizing:border-box;"/></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">Java:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">public</span> <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>[] A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> atMost(A, k) - atMost(A, k - <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>);
    }

    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">public</span> <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">atMost</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>[] A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> res = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, i = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, n = A.length;
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> (<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> j = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>; j &lt; n; j++) {
            k -= A[j] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>;
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> (k &lt; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>)
                k += A[i++] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>;
            res += j - i + <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>;
        }
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res;
    }
</code></pre>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">C++:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(92, 38, 153);">vector</span>&lt;<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>&gt;&amp; A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> atMost(A, k) - atMost(A, k - <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>);
    }

    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">atMost</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(92, 38, 153);">vector</span>&lt;<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>&gt;&amp; A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> res = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, i = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, n = A.size();
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> (<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> j = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>; j &lt; n; j++) {
            k -= A[j] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>;
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> (k &lt; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>)
                k += A[i++] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>;
            res += j - i + <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>;
        }
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res;
    }
</code></pre>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">Python:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">def</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(self, A, k)</span>:</span>
        <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">def</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">atMost</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(k)</span>:</span>
            res = i = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> j <span style="box-sizing:border-box;color:rgb(170, 13, 145);">in</span> xrange(len(A)):
                k -= A[j] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>
                <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> k &lt; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>:
                    k += A[i] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span>
                    i += <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
                res += j - i + <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res

        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> atMost(k) - atMost(k - <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>)
</code></pre>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><br style="box-sizing:border-box;"/><br style="box-sizing:border-box;"/></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><h1 style="margin:0.67em 0px;box-sizing:border-box;margin-top:0px;margin-bottom:0.5em;color:rgba(0, 0, 0, 0.85);font-weight:500;font-size:unset;">Solution II: One pass</h1>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">Actually it's same as three pointers.<br style="box-sizing:border-box;"/>
Though we use <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">count</code> to count the number of even numebers.<br style="box-sizing:border-box;"/>
Insprired by @yannlecun.</p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">Time <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">O(N)</code> for one pass<br style="box-sizing:border-box;"/>
Space <code style="box-sizing:border-box;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);padding:2px 4px;border-radius:3px;font-family:monospace;font-size:13px;">O(1)</code><br style="box-sizing:border-box;"/>
<br style="box-sizing:border-box;"/></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">Java:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">public</span> <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>[] A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> res = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, i = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, count = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, n = A.length;
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> (<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> j = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>; j &lt; n; j++) {
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">if</span> (A[j] % <span style="box-sizing:border-box;color:rgb(28, 0, 207);">2</span> == <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>) {
                --k;
                count = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>;
            }
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> (k == <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>) {
                k += A[i++] &amp; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>;
                ++count;
            }
            res += count;
        }
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res;
    }
</code></pre>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">C++:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(<span style="box-sizing:border-box;color:rgb(92, 38, 153);">vector</span>&lt;<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span>&gt;&amp; A, <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> k)</span> </span>{
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> res = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, i = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, count = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>, n = A.size();
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> (<span style="box-sizing:border-box;color:rgb(170, 13, 145);">int</span> j = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>; j &lt; n; j++) {
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">if</span> (A[j] &amp; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>)
                --k, count = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>;
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> (k == <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>)
                k += A[i++] &amp; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>, ++count;
            res += count;
        }
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res;
    }
</code></pre>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"><strong style="box-sizing:border-box;font-weight:bolder;">Python:</strong></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><pre style="box-sizing:border-box;font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;margin-top:0px;margin-bottom:1em;overflow:auto;background:rgb(247, 249, 250);padding:10px 15px;color:rgb(38, 50, 56);line-height:1.6;border-radius:3px;font-size:13px;"><code style="box-sizing:border-box;tab-size:4;border-radius:3px;font-size:13px;padding:2px 4px;color:rgb(84, 110, 122);background-color:rgb(247, 249, 250);font-family:SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">    <span style="box-sizing:border-box;"><span style="box-sizing:border-box;color:rgb(170, 13, 145);">def</span> <span style="box-sizing:border-box;color:rgb(28, 0, 207);">numberOfSubarrays</span><span style="box-sizing:border-box;color:rgb(92, 38, 153);">(self, A, k)</span>:</span>
        i = count = res = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">for</span> j <span style="box-sizing:border-box;color:rgb(170, 13, 145);">in</span> xrange(len(A)):
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">if</span> A[j] &amp; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>:
                k -= <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
                count = <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>
            <span style="box-sizing:border-box;color:rgb(170, 13, 145);">while</span> k == <span style="box-sizing:border-box;color:rgb(28, 0, 207);">0</span>:
                k += A[i] &amp; <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
                i += <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
                count += <span style="box-sizing:border-box;color:rgb(28, 0, 207);">1</span>
            res += count
        <span style="box-sizing:border-box;color:rgb(170, 13, 145);">return</span> res
</code></pre>
<h1 style="margin:0.67em 0px;box-sizing:border-box;margin-top:0px;margin-bottom:0.5em;color:rgba(0, 0, 0, 0.85);font-weight:500;font-size:unset;">More Similar Sliding Window Problems</h1>
<p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;"></p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">Here are some similar sliding window problems.<br style="box-sizing:border-box;"/>
Also find more explanations.<br style="box-sizing:border-box;"/>
Good luck and have fun.</p><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
</p><ul style="box-sizing:border-box;margin-top:0px;margin-bottom:1em;">
<li style="box-sizing:border-box;">
<ol start="1358" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/discuss/516977/JavaC++Python-Easy-and-Concise" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Number of Substrings Containing All Three Characters</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="1248" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/count-number-of-nice-subarrays/discuss/419378/JavaC%2B%2BPython-Sliding-Window-atMost(K)-atMost(K-1)" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Count Number of Nice Subarrays</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="1234" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/replace-the-substring-for-balanced-string/discuss/408978/javacpython-sliding-window/367697" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Replace the Substring for Balanced String</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="1004" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/max-consecutive-ones-iii/discuss/247564/javacpython-sliding-window/379427?page=3" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Max Consecutive Ones III</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="930" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/binary-subarrays-with-sum/discuss/186683/" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Binary Subarrays With Sum</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="992" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/subarrays-with-k-different-integers/discuss/234482/JavaC%2B%2BPython-Sliding-Window-atMost(K)-atMost(K-1)" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Subarrays with K Different Integers</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="904" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/fruit-into-baskets/discuss/170740/Sliding-Window-for-K-Elements" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Fruit Into Baskets</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="862" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/discuss/143726/C%2B%2BJavaPython-O(N)-Using-Deque" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Shortest Subarray with Sum at Least K</a></li>
</ol>
</li>
<li style="box-sizing:border-box;">
<ol start="209" style="box-sizing:border-box;margin-top:0px;margin-bottom:0px;">
<li style="box-sizing:border-box;"><a href="https://leetcode.com/problems/minimum-size-subarray-sum/discuss/433123/JavaC++Python-Sliding-Window" style="box-sizing:border-box;outline:none;cursor:pointer;background-color:transparent;touch-action:manipulation;pointer-events:auto;padding-bottom:1px;border-bottom:1px solid transparent;color:rgb(96, 125, 139);text-decoration:none;transition:border-bottom-color 0.3s ease 0s;">Minimum Size Subarray Sum</a><br style="box-sizing:border-box;"/>
<br style="box-sizing:border-box;"/></li>
</ol>
</li>
</ul><p style="font-size:14px;font-weight:400;box-sizing:border-box;margin-top:0px;margin-bottom:0px;"></p></div></div><div style="box-sizing:border-box;margin-top:20px;"><div style="box-sizing:border-box;display:flex;flex-wrap:wrap;margin:-10px 0px 0px -10px;"></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 